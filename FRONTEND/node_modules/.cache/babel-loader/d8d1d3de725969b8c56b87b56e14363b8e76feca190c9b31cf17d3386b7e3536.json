{"ast":null,"code":"import\"./App.css\";import{useState,useEffect}from\"react\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function App(){const[portfolio,setPortfolio]=useState(null);const[total,setTotal]=useState(0);const[error,setError]=useState(\"\");const[list,setList]=useState(null);const[selectedStock,setSelectedStock]=useState(null);const[selectedInterval,setSelectedInterval]=useState(\"daily\");const handleStockSelection=symbol=>setSelectedStock(symbol);const userId=\"user1\";// const url = `https://mcsbt-integration-416418.ew.r.appspot.com`;\nconst url=\"http://127.0.0.1:5001\";useEffect(()=>{async function fetchData(){await fetch(\"\".concat(url,\"/api/portfolio\")).then(response=>response.json()).then(data=>{console.log(\"Fetched portfolio data:\",data);setList(data);// Update the state with the fetched data\n}).catch(error=>{console.error(\"Error fetching data:\",error);// If there's an error, i set some error state and display it\n});}fetchData();},[]);console.log(\"got data \".concat(list));const[stockDetails,setStockDetails]=useState(null);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"App-header\",children:/*#__PURE__*/_jsxs(\"h1\",{children:[\"Welcome, \",userId]})}),/*#__PURE__*/_jsxs(\"main\",{children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"Error-message\",children:error}),list?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"Portfolio-value\",children:[\"Total Portfolio Value: $\",list.total_port_val]}),/*#__PURE__*/_jsx(\"section\",{className:\"Stock-list\",children:Object.entries(list.stocks).map(_ref=>{let[symbol,stockInfo]=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"Stock-item\",children:[/*#__PURE__*/_jsx(\"h3\",{children:symbol}),/*#__PURE__*/_jsxs(\"p\",{children:[stockInfo.num_stocks,\" stocks at $\",stockInfo.last_close]}),/*#__PURE__*/_jsx(\"button\",{className:\"Select-button\",onClick:()=>handleStockSelection(symbol),children:\"Select\"})]},symbol);})})]}):/*#__PURE__*/_jsx(\"div\",{children:\"Loading portfolio...\"})]}),/*#__PURE__*/_jsx(\"footer\",{children:/*#__PURE__*/_jsxs(\"p\",{children:[\"\\xA9 \",new Date().getFullYear(),\" DebuggingDollars\"]})})]});}export default App;","map":{"version":3,"names":["useState","useEffect","jsxs","_jsxs","jsx","_jsx","App","portfolio","setPortfolio","total","setTotal","error","setError","list","setList","selectedStock","setSelectedStock","selectedInterval","setSelectedInterval","handleStockSelection","symbol","userId","url","fetchData","fetch","concat","then","response","json","data","console","log","catch","stockDetails","setStockDetails","className","children","total_port_val","Object","entries","stocks","map","_ref","stockInfo","num_stocks","last_close","onClick","Date","getFullYear"],"sources":["/Users/danaattie/Capstone/FRONTEND/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport { useState, useEffect } from \"react\";\n\nfunction App() {\n  const [portfolio, setPortfolio] = useState(null);\n  const [total, setTotal] = useState(0);\n  const [error, setError] = useState(\"\");\n  const [list, setList] = useState(null);\n  const [selectedStock, setSelectedStock] = useState(null);\n  const [selectedInterval, setSelectedInterval] = useState(\"daily\");\n  const handleStockSelection = (symbol) => setSelectedStock(symbol);\n  const userId = \"user1\";\n  // const url = `https://mcsbt-integration-416418.ew.r.appspot.com`;\n  const url = `http://127.0.0.1:5001`;\n\n  useEffect(() => {\n    async function fetchData() {\n      await fetch(`${url}/api/portfolio`)\n        .then((response) => response.json())\n        .then((data) => {\n          console.log(\"Fetched portfolio data:\", data);\n          setList(data); // Update the state with the fetched data\n        })\n        .catch((error) => {\n          console.error(\"Error fetching data:\", error);\n          // If there's an error, i set some error state and display it\n        });\n    }\n    fetchData();\n  }, []);\n\n  console.log(`got data ${list}`);\n  const [stockDetails, setStockDetails] = useState(null);\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>Welcome, {userId}</h1>\n      </header>\n      <main>\n        {error && <div className=\"Error-message\">{error}</div>}\n        {list ? (\n          <div>\n            <h2 className=\"Portfolio-value\">\n              Total Portfolio Value: ${list.total_port_val}\n            </h2>\n            <section className=\"Stock-list\">\n              {Object.entries(list.stocks).map(([symbol, stockInfo]) => (\n                <div className=\"Stock-item\" key={symbol}>\n                  <h3>{symbol}</h3>\n                  <p>\n                    {stockInfo.num_stocks} stocks at ${stockInfo.last_close}\n                  </p>\n                  <button\n                    className=\"Select-button\"\n                    onClick={() => handleStockSelection(symbol)}\n                  >\n                    Select\n                  </button>\n                </div>\n              ))}\n            </section>\n          </div>\n        ) : (\n          <div>Loading portfolio...</div>\n        )}\n      </main>\n      <footer>\n        <p>&copy; {new Date().getFullYear()} DebuggingDollars</p>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}